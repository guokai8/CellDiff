% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scatterDiff2D.R
\name{scatterDiff2D}
\alias{scatterDiff2D}
\title{2D Scatter Plot of Sender and Receiver Pathway-Level Changes}
\usage{
scatterDiff2D(
  object.list,
  comparison = c(1, 2),
  pathways = NULL,
  cell.type.strategy = c("union", "shared"),
  thresh = 0.05,
  log.scale = TRUE,
  arrow.size = 1,
  arrow.alpha = 0.8,
  arrow.color = NULL,
  arrow.type = "closed",
  label.cell = TRUE,
  label.size = 3,
  label.color = "black",
  label.repel = TRUE,
  label.box = FALSE,
  label.min.segment.length = 0,
  label.max.overlaps = 10,
  add.quadrants = TRUE,
  quadrant.line.type = "dashed",
  quadrant.line.color = "grey50",
  quadrant.line.alpha = 0.5,
  quadrant.label.size = 3,
  quadrant.label.alpha = 0.7,
  point.size.range = c(2, 6),
  point.shapes = c(16, 17),
  point.alpha.values = c(0.7, 1),
  margin.factor.x = 0.3,
  margin.factor.y = 0.3,
  colors = NULL,
  title = "Changes in Sender-Receiver Roles",
  title.size = 14,
  title.face = "bold",
  axis.text.size = 10,
  axis.title.size = 12,
  legend.position = "right",
  base.theme = ggplot2::theme_bw(),
  return.data = FALSE
)
}
\arguments{
\item{object.list}{List of CellChat objects}

\item{comparison}{Vector of indices to compare (length 2)}

\item{pathways}{Vector of pathway names to include (NULL for all)}

\item{cell.type.strategy}{Character, strategy for aligning cell types: "shared" (uses intersection) or "union" (default, uses all cell types)}

\item{thresh}{P-value threshold for significant interactions (default: 0.05)}

\item{log.scale}{Whether to use log scale for axes (default: TRUE)}

\item{arrow.size}{Size of trajectory arrows (default: 1)}

\item{arrow.alpha}{Transparency of trajectory arrows (default: 0.8)}

\item{arrow.color}{Color of arrows (default: NULL, uses cell type colors)}

\item{arrow.type}{Type of arrow head, 'open' or 'closed' (default: "closed")}

\item{label.cell}{Whether to label cell types (default: TRUE)}

\item{label.size}{Size of cell type labels (default: 3)}

\item{label.color}{Color of cell type labels (default: "black")}

\item{label.repel}{Whether to use ggrepel for label placement (default: TRUE)}

\item{label.box}{Whether to add box around labels (default: FALSE)}

\item{label.min.segment.length}{Minimum segment length for repelled labels (default: 0)}

\item{label.max.overlaps}{Maximum allowed label overlaps (default: 10)}

\item{add.quadrants}{Whether to add quadrant lines and labels (default: TRUE)}

\item{quadrant.line.type}{Type of quadrant dividing lines (default: "dashed")}

\item{quadrant.line.color}{Color of quadrant dividing lines (default: "grey50")}

\item{quadrant.line.alpha}{Alpha of quadrant dividing lines (default: 0.5)}

\item{quadrant.label.size}{Size of quadrant labels (default: 3)}

\item{quadrant.label.alpha}{Alpha of quadrant labels (default: 0.7)}

\item{point.size.range}{Range of point sizes (default: c(2, 6))}

\item{point.shapes}{Vector of shapes for different conditions (default: c(16, 17))}

\item{point.alpha.values}{Vector of alpha values for conditions (default: c(0.7, 1))}

\item{margin.factor.x}{Horizontal expansion factor for plot margins (default: 0.3)}

\item{margin.factor.y}{Vertical expansion factor for plot margins (default: 0.3)}

\item{colors}{Vector of colors for cell types (default: NULL, uses global_colors)}

\item{title}{Plot title (default: "Changes in Sender-Receiver Roles")}

\item{title.size}{Size of plot title (default: 14)}

\item{title.face}{Font face of plot title (default: "bold")}

\item{axis.text.size}{Size of axis text (default: 10)}

\item{axis.title.size}{Size of axis titles (default: 12)}

\item{legend.position}{Position of the legend (default: "right")}

\item{base.theme}{Base theme for the plot (default: ggplot2::theme_bw())}

\item{return.data}{Whether to return data instead of plot (default: FALSE)}
}
\value{
A ggplot object or a list of data frames if return.data is TRUE
}
\description{
Creates a 2D scatter plot showing how cell types change in both sender and receiver
dimensions between two conditions, using pathway-level information from the netP slot.
}
\examples{
\dontrun{
# Load example data
data(celllist)

# Basic 2D scatter plot (union strategy by default for this function)
plot <- scatterDiff2D(celllist, comparison = c(1, 2))

# Use shared strategy instead
plot <- scatterDiff2D(celllist, comparison = c(1, 2),
                      cell.type.strategy = "shared")

# Customize visualization
plot <- scatterDiff2D(celllist, comparison = c(1, 2),
                      cell.type.strategy = "union",
                      log.scale = TRUE,
                      label.cell = TRUE,
                      add.quadrants = TRUE,
                      arrow.size = 1.2,
                      title = "Sender-Receiver Role Changes")

# Analyze specific pathways
plot <- scatterDiff2D(celllist, comparison = c(1, 2),
                      pathways = c("CXCL", "CCL"),
                      cell.type.strategy = "union")
}

}

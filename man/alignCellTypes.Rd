% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{alignCellTypes}
\alias{alignCellTypes}
\title{Align cell types across CellChat objects with flexible strategy}
\usage{
alignCellTypes(object.list, indices = NULL, strategy = c("shared", "union"))
}
\arguments{
\item{object.list}{List of CellChat objects}

\item{indices}{Vector of indices to consider}

\item{strategy}{Character, either "shared" (intersection, default) or "union" (all cell types)}
}
\value{
List with components:
  \itemize{
    \item cell_types: Vector of aligned cell type names
    \item strategy: The strategy used
    \item missing_by_object: List showing which cell types are missing in each object
    \item n_missing: Count of how many objects miss each cell type
  }
}
\description{
This function aligns cell types across multiple CellChat objects using either
"shared" (intersection) or "union" strategy. When using "union", missing cell
types in an object will be assigned zero values.
}
\examples{
\dontrun{
# Load example data
data(cellchatlist)

# Align with shared strategy (default, intersection)
alignment <- alignCellTypes(cellchatlist,
                           indices = c(1, 2),
                           strategy = "shared")
print(alignment$cell_types)

# Align with union strategy (all cell types)
alignment <- alignCellTypes(cellchatlist,
                           indices = c(1, 2),
                           strategy = "union")
print(alignment$cell_types)
print(alignment$missing_by_object)

# Check which cell types would be lost with 'shared' strategy
alignment_shared <- alignCellTypes(cellchatlist, strategy = "shared")
alignment_union <- alignCellTypes(cellchatlist, strategy = "union")
lost_cells <- setdiff(alignment_union$cell_types, alignment_shared$cell_types)
if (length(lost_cells) > 0) {
  cat("Cell types lost with 'shared':", paste(lost_cells, collapse = ", "), "\n")
}

# Use alignment results in analysis
alignment <- alignCellTypes(cellchatlist, strategy = "union")
result <- heatDiff(cellchatlist,
                  comparison = c(1, 2),
                  cell.type.strategy = "union")
}

}
